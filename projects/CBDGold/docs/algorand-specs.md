# Algorand Specifications Reference

The official Algorand protocol and virtual machine specifications are maintained by the Algorand Foundation. They are published as a living technical reference at:

- https://specs.algorand.co/
- Git repository mirror: https://github.com/algorandfoundation/specs
- Printable single-page edition: https://specs.algorand.co/print.html

## How to consume the specs locally

1. **Browse online** â€“ The navigation sidebar on specs.algorand.co exposes the full table of contents. Chapters are grouped into consensus, ledger, transaction, and AVM/TEAL sections.
2. **Clone the source** â€“ Add the upstream repository if you need offline access or to pin a specific commit:
   ```bash
   git submodule add https://github.com/algorandfoundation/specs.git external/algorand-specs
   git -C external/algorand-specs checkout <commit>
   ```
   (We have not added the submodule yet to keep the workspace lean; use the commands above if a pinned copy becomes necessary.)
3. **Export a PDF** â€“ Use the printable version and your browserâ€™s *Save as PDF* if you need a static artifact.

## Key chapters relevant to CBDGold

| Area | Spec chapter(s) | Why it matters for us |
| --- | --- | --- |
| **Consensus & Ledger** | "Consensus" and "Ledger" chapters | Defines how block proposals, voting, and round progression workâ€”useful when reasoning about finality for marketplace transactions. |
| **Transactions** | "Transactions" chapter | Details transaction fields, grouping rules, fees, minimum balance, and multisig logic. We rely on group transactions for staking/prize flows. |
| **Algorand Standard Assets (ASA)** | "Assets" section inside the Transactions chapter | The staking/prize contracts consume ASA IDs (HEMP/WEED/USDC). This section formalizes supply, clawback, freeze, and decimal handling. |
| **Algorand Virtual Machine (AVM)** | "AVM" and "TEAL" chapters | Covers TEAL opcodes, program limits, and ABI conventions that our generated contract clients target. |
| **Application Binary Interface (ABI)** | "ABI" appendix | Defines type encoding/decoding. Our TypeScript clients generated by AlgoKit follow these rules for app calls. |
| **State Proofs & Light Clients** | "State Proofs" chapter | Useful for future integrations (e.g., cross-chain proofs) though not currently in scope. |

## Alignment checklist

- âœ… **Contract IDs** â€“ `deployment/deployment.json` and `.env` already track the latest TestNet app IDs (`746492270/276/277`).
- âœ… **ASA IDs** â€“ `VITE_HEMP_ASA_ID`, `VITE_WEED_ASA_ID`, and `VITE_USDC_ASA_ID` match the TestNet assets referenced in the specâ€™s ASA rules.
- âœ… **Group Transactions** â€“ `src/onchain/stakingTransactions.ts` builds atomic transaction groups that satisfy the spec requirement that asset transfers accompany app calls when staking.
- âœ… **ABI compliance** â€“ The generated clients in `src/contracts/*.ts` are derived from ARC-56 app specs and therefore align with the ABI chapter.
- ðŸ”„ **Future review** â€“ When we upgrade to AVM v11+ features or introduce state-proof validation, revisit the relevant spec chapters to ensure compatibility.

## Keeping everyone aligned

- Treat the online spec as the source of truth for protocol behavior. When documentation conflicts, defer to the spec.
- Pin the commit hash from `algorandfoundation/specs` in requirement docs when citing behavior that can change across protocol upgrades.
- Capture any spec-dependent assumptions (fees, minimum balances, opcode availability) directly in code comments or README sections so that QA and product share the same expectations.

If you need additional chapters pulled into this repository (for example, a full PDF snapshot), let me know and we can add them under `docs/` or as a submodule.
